# my-reoute-history

这是 ** my-reoute ** 的一个子项目，用于实现在浏览器上高仿APP式的单页面路由。my-reoute-history去除了在浏览器中浏览页面会往浏览记录中增加url记录的行为，使得用户无论浏览器多少页面，都不会产生地址栏历史数据的变化。

my-reoute-history还提供了一个虚拟历史记录的功能，让开发者可以访问虚拟的历史记录，并动态的删除增加用户的访问记录。

my-reoute-history还可以监听用户的返回行为，并提供给用户处理返回按钮的权利，类似于APP对返回键的监听一样。

my-reoute-history在浏览器里面仅会产生两条访问记录，但是会使用虚拟访问记录记录下用户的访问信息。当用户退出app时，my-reoute-history会一直返回直到离开当前页面。

my-reoute-history原理是返回键劫持，当用户打开页面时候，my-reoute-history会动态插入一个返回键劫持页面，用于监听用户的返回动作。同时使用hashchange事件监听url的hash改变。无论用户前进、后退、替换都会先跳转先返回到返回页面，并由监听页面会返回到原页面，然后再进行前进、后台、替换的行为逻辑。

my-reoute-history提供了纠正功能，用于处理如页面中存在无法监听到的ifame的跳转，用户的操作速度快于返回键劫持的响应速度等特殊情况。